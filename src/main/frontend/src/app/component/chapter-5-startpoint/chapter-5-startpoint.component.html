
<mat-card>
  <div class="row">
    <app-chapter-title [title]="'Chapter 5 - Component Communication'" ></app-chapter-title>
    <hr>
    <ul>
      <li class="sub-chapter">
        <h3>컴포넌트 통신 기본(Component Communication Basic)</h3>
        <p>
          앵귤러의 어플리케이션의 구조는 <strong>컴포넌트 계층 구조(Component hierarchy)</strong>이다.
          컴포넌트는 <strong>재사용(reusable)</strong>할 수 있으며, 컴포넌트끼리 데이터를 주고받을 수 있다.
          이러한 계층화는 모듈과의 결합성(row coupling)을 줄이고 코드의 보수성을 좋게 한다.
        </p>

        <br/>

        <p>
          <strong>부모 컴포넌트(parent component)</strong>에서 <strong>자식 컴포넌트(child component)</strong>로 데이터의 전달은
          <code>입력 프러퍼티 바인딩 (input-property binding)</code>을 사용한다. 반대로 <strong>자식 컴포넌트</strong>에서 부모 컴포넌트로 데이터의
          전달은 <code>이벤트 바인딩(output-event binding)</code>을 사용한다.
          또한 부모-자식 관계가 아닌 컴포넌트끼리의 데이터의 전달은 <code>중계자 패턴(Mediator pattern)</code>을 사용한다.
        </p>
      </li>

      <li class="sub-chapter">
        <h3>입력 프러퍼티 바인딩(input-property binding)</h3>

        <p>
          밖에서 컴포넌트 안으로 들어오는 데이터는 프러퍼티 바인딩으로 그것을 받아올 수 있는데, 이때 데이터는
          <strong>누가</strong> 전달하는지 알 필요가 없으며, 단지 <strong>데이터의 종류(type of data)</strong>만 알면된다.
        </p>

        <app-code [code]="codes[0].code" [title]="codes[0].title"></app-code>
        <app-code [code]="codes[1].code" [title]="codes[1].title"></app-code>

        <mat-input-container>
          <input matInput type="text" placeholder="Enter Menu" (input)="onMenuHandler($event)" >
        </mat-input-container>
        <app-chapter5-1-1 [menuName]="menu" [menuPrice]="2.32"  ></app-chapter5-1-1>

        <p>
          부모 컴포넌트에서 보내는 데이터는 <code>@Input</code> 데코레이터를 지정하여 받을 수 있다.
          기본적으로 앵귤러의 <a [routerLink]="['/chapter4']">데이터 바인딩은 단방향(one-directional data binding)</a>
          이므로 <strong>부모의 menu</strong>의 값이 바뀌면 자식에게 영향이 가지만, <strong>자식의 menuName</strong> 변화는 부모에게 영향을 주지 않는 것을 주의하자.
        </p>

        <p>
          앵귤러에선 부모 컴포넌트의 데이터를 자식에게 전달할 수 있을 뿐 아니라 <code>getter method</code>을
          이용하면 입력 프로퍼티의 값이 변경되는 시점을 가로채 특정 로직을 넣을 수 있다.
        </p>
        <app-code [code]="codes[2].code" [title]="codes[2].title"></app-code>
        <app-code [code]="codes[3].code" [title]="codes[3].title"></app-code>


        <span matTooltip="Must be less than 11">
        <mat-input-container>
          <input matInput placeholder="Enter quantity" type="number" [(ngModel)]="quantity">
        </mat-input-container>
        </span>
        <app-chapter5-1-2 [requestQuantity]="quantity"></app-chapter5-1-2>

        <p>이렇게 <strong>setter 혹은 getter</strong>을 이용하면 이용하면, 받아오는 데이터의 값이 변경될 때
        원하는 로직을 추가할 수 있다.</p>
      </li>
    </ul>
  </div>
</mat-card>
